(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(5921)}])},5921:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return N}});var l=t(5893),a=t(7294),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();var i=(e,s)=>{let t=(0,a.forwardRef)((t,l)=>{let{color:i="currentColor",size:d=24,strokeWidth:c=2,absoluteStrokeWidth:x,children:o,...p}=t;return(0,a.createElement)("svg",{ref:l,...r,width:d,height:d,stroke:i,strokeWidth:x?24*Number(c)/Number(d):c,className:"lucide lucide-".concat(n(e)),...p},[...s.map(e=>{let[s,t]=e;return(0,a.createElement)(s,t)}),...(Array.isArray(o)?o:[o])||[]])});return t.displayName="".concat(e),t};let d=i("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),c=i("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),x=i("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),o=i("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),p=i("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),h=i("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),m=i("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),u=i("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]),b=i("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),g=i("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),j=i("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);function N(){let[e,s]=(0,a.useState)([]),[t,r]=(0,a.useState)({}),[n,i]=(0,a.useState)([]),[N,v]=(0,a.useState)([]),[w,y]=(0,a.useState)(!1),[f,k]=(0,a.useState)(!1),[C,S]=(0,a.useState)("trends"),[T,A]=(0,a.useState)(null);(0,a.useEffect)(()=>{M()},[]);let M=async()=>{k(!0);try{let e=await fetch("/api/trends"),t=await e.json();s(t.trends||[]),r(t.newsArticles||{})}catch(e){console.error("Error fetching trends:",e)}finally{k(!1)}},E=async e=>{y(!0),A(e);try{let s=await fetch("/api/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({trend:e,newsContext:t[e.topic]||[]})}),l=await s.json(),a={id:Date.now(),trend:e.topic,trendData:e,newsContext:t[e.topic]||[],content:l.content,status:"pending",createdAt:new Date().toISOString(),scheduled:null,source:"Google Trends + News API"};v(e=>[a,...e]),S("approval")}catch(e){console.error("Error generating content:",e)}finally{y(!1)}},G=async e=>{try{(await fetch("/api/approve",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})})).ok&&v(s=>s.map(s=>s.id===e?{...s,status:"approved",scheduled:new Date(Date.now()+288e5*Math.random())}:s))}catch(e){console.error("Error approving post:",e)}},_=e=>{v(s=>s.map(s=>s.id===e?{...s,status:"rejected"}:s))},D=(e,s)=>{v(t=>t.map(t=>t.id===e?{...t,content:s}:t))};return(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900",children:[(0,l.jsx)("div",{className:"bg-black/20 backdrop-blur-sm border-b border-white/10",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg",children:(0,l.jsx)(d,{className:"w-6 h-6 text-white"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-xl font-bold text-white",children:"Brand Flip Generator"}),(0,l.jsx)("p",{className:"text-purple-200 text-sm",children:"Google Trends → Brand Gold | 100% Free Data"})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("div",{className:"text-white font-semibold",children:"4 posts/day"}),(0,l.jsx)("div",{className:"text-purple-200 text-sm",children:"$0 monthly cost"})]}),(0,l.jsx)("div",{className:"p-2 bg-green-500/20 rounded-lg",children:(0,l.jsx)(c,{className:"w-5 h-5 text-green-400"})})]})]})})}),(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:(0,l.jsx)("div",{className:"flex space-x-1 bg-white/10 backdrop-blur-sm rounded-lg p-1",children:[{id:"trends",label:"Google Trends",icon:x},{id:"approval",label:"Approval Queue",icon:o},{id:"scheduled",label:"Scheduled Posts",icon:p}].map(e=>(0,l.jsxs)("button",{onClick:()=>S(e.id),className:"flex items-center space-x-2 px-4 py-2 rounded-md transition-all ".concat(C===e.id?"bg-white text-purple-900 shadow-lg":"text-white hover:bg-white/10"),children:[(0,l.jsx)(e.icon,{className:"w-4 h-4"}),(0,l.jsx)("span",{className:"font-medium",children:e.label}),"approval"===e.id&&N.filter(e=>"pending"===e.status).length>0&&(0,l.jsx)("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:N.filter(e=>"pending"===e.status).length})]},e.id))})}),(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 pb-8",children:["trends"===C&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Google Trends + News"}),(0,l.jsx)("p",{className:"text-purple-200",children:"Negative stories → Brand strategy gold"})]}),(0,l.jsxs)("button",{onClick:M,disabled:f,className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-all disabled:opacity-50",children:[(0,l.jsx)(h,{className:"w-4 h-4 ".concat(f?"animate-spin":"")}),(0,l.jsx)("span",{children:f?"Loading...":"Refresh Trends"})]})]}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map((e,s)=>{var a;return(0,l.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20 hover:bg-white/15 transition-all",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:e.topic}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,l.jsxs)("span",{className:"text-purple-200",children:["Trend: ",e.trendValue,"/100"]}),(0,l.jsxs)("span",{className:"text-purple-200",children:[e.newsCount," articles"]}),(0,l.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("negative"===e.sentiment?"bg-red-500/20 text-red-300":"bg-green-500/20 text-green-300"),children:e.sentiment})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(d,{className:"w-3 h-3 text-purple-300"}),(0,l.jsx)("span",{className:"text-purple-300 text-xs",children:e.region})]})]})]}),(0,l.jsxs)("button",{onClick:()=>E(e),disabled:w,className:"flex items-center space-x-2 bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white px-4 py-2 rounded-lg transition-all disabled:opacity-50 ml-4",children:[(0,l.jsx)(m,{className:"w-4 h-4"}),(0,l.jsx)("span",{children:w&&(null==T?void 0:T.topic)===e.topic?"Generating...":"Generate"})]})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("p",{className:"text-purple-200 text-xs mb-2",children:"Related searches:"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-1",children:null===(a=e.relatedQueries)||void 0===a?void 0:a.slice(0,3).map((e,s)=>(0,l.jsx)("span",{className:"bg-blue-500/20 text-blue-300 px-2 py-1 rounded text-xs",children:e},s))})]}),t[e.topic]&&(0,l.jsxs)("div",{className:"bg-black/20 rounded-lg p-3",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,l.jsx)(u,{className:"w-3 h-3 text-purple-300"}),(0,l.jsx)("span",{className:"text-purple-300 text-xs",children:"Latest news"})]}),(0,l.jsx)("div",{className:"space-y-1",children:t[e.topic].slice(0,2).map((e,s)=>(0,l.jsx)("p",{className:"text-purple-200 text-xs truncate",children:e.title},s))})]}),w&&(null==T?void 0:T.topic)===e.topic&&(0,l.jsx)("div",{className:"bg-blue-500/20 border border-blue-500/30 rounded-lg p-4 mt-4",children:(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-400"}),(0,l.jsx)("span",{className:"text-blue-300",children:"Analyzing trends + news with Claude AI..."})]})})]},s)})})]}),"approval"===C&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Approval Queue"}),0===N.filter(e=>"pending"===e.status).length?(0,l.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-8 text-center border border-white/20",children:[(0,l.jsx)(b,{className:"w-12 h-12 text-purple-300 mx-auto mb-4"}),(0,l.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"No posts pending approval"}),(0,l.jsx)("p",{className:"text-purple-200",children:"Generate content from Google Trends to see posts here."})]}):(0,l.jsx)("div",{className:"space-y-6",children:N.filter(e=>"pending"===e.status).map(e=>(0,l.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold text-white",children:["Based on: ",e.trend]}),(0,l.jsxs)("div",{className:"flex items-center space-x-4 mt-1",children:[(0,l.jsxs)("p",{className:"text-purple-200 text-sm",children:["Generated ",new Date(e.createdAt).toLocaleTimeString()]}),(0,l.jsx)("span",{className:"bg-green-500/20 text-green-300 px-2 py-1 rounded text-xs",children:e.source})]})]}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsx)("button",{onClick:()=>_(e.id),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-all",children:"Reject"}),(0,l.jsx)("button",{onClick:()=>G(e.id),className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-all",children:"Approve & Schedule"})]})]}),e.newsContext&&e.newsContext.length>0&&(0,l.jsxs)("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-3 mb-4",children:[(0,l.jsx)("p",{className:"text-blue-300 text-xs mb-2",children:"\uD83D\uDCF0 News context used:"}),e.newsContext.slice(0,2).map((e,s)=>(0,l.jsxs)("p",{className:"text-blue-200 text-xs",children:["• ",e.title]},s))]}),(0,l.jsx)("div",{className:"bg-black/30 rounded-lg p-4 mb-4",children:(0,l.jsx)("textarea",{value:e.content,onChange:s=>D(e.id,s.target.value),className:"w-full h-80 bg-transparent text-white resize-none border-none outline-none placeholder-gray-400",placeholder:"Your thread content..."})}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-sm text-purple-200",children:[(0,l.jsxs)("span",{children:["Character count: ",e.content.length]}),(0,l.jsxs)("div",{className:"flex space-x-4",children:[(0,l.jsx)("span",{children:"Thread format detected"}),(0,l.jsxs)("span",{children:[e.content.split("\n\n").length," tweets"]})]})]})]},e.id))})]}),"scheduled"===C&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Scheduled Posts"}),(0,l.jsx)("div",{className:"space-y-4",children:N.filter(e=>"approved"===e.status).map(e=>(0,l.jsx)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:e.trend}),(0,l.jsxs)("p",{className:"text-purple-200 text-sm",children:["Scheduled for: ",e.scheduled?new Date(e.scheduled).toLocaleString():"Next available slot"]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,l.jsx)("span",{className:"bg-green-500/20 text-green-300 px-2 py-1 rounded text-xs",children:e.source}),(0,l.jsx)(g,{className:"w-4 h-4 text-blue-400"}),(0,l.jsx)("span",{className:"text-blue-300 text-xs",children:"Ready to post"})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("div",{className:"px-3 py-1 bg-green-500/20 text-green-300 rounded-full text-sm",children:"Approved"}),(0,l.jsx)(j,{className:"w-5 h-5 text-green-400"})]})]})},e.id))})]})]})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);